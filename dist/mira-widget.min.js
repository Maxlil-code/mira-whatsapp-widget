(()=>{if(document.getElementById("mira-custom-widget"))return;const t={whatsappMessage:"Hello Mira",titleText:"Applying from outside Germany?",subText:"Apply with Mira.Ai",position:"bottom-right"};const n={...t,...window.MiraWidgetConfig||{}},e=function(t){const n=[];return t.titleText||n.push("Title text is required"),t.subText||n.push("Sub text is required"),n}(n);e.length>0&&Object.assign(n,t);let i=!1;function o(){const t=!!n.containerId;let e=document.body;if(t){const t=document.getElementById(n.containerId);if(!t)return void console.error(`Mira Widget: Container with id "${n.containerId}" not found`);e=t}const o=document.createElement("style");o.textContent="\n            .mira-custom-widget {\n              position: relative;\n              width: 100%;\n              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            }\n\n            .mira-custom-widget.embedded-mode {\n              position: relative !important;\n              width: 250px !important;\n              height: 100% !important;\n              top: auto !important;\n              bottom: auto !important;\n              left: auto !important;\n              right: auto !important;\n            }\n\n            .mira-custom-widget.embedded-mode .widget-trigger {\n              max-width: none;\n              margin-left: 0;\n            }\n\n            /* Floating mode styles */\n            .mira-custom-widget.floating-mode {\n              position: fixed !important;\n              z-index: 9999;\n              width: auto !important;\n            }\n            \n            /* QR Dropdown Animation */\n           .mira-custom-widget .qr-dropdown {\n              background: #ffffff;\n              border-radius: 16px;\n              box-shadow: 0 4px 20px rgba(16, 37, 66, 0.15);\n              overflow: hidden;\n              max-height: 0;\n              opacity: 0;\n              visibility: hidden;\n              transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);\n              transform: translateY(10px) scale(0.95);\n              transform-origin: bottom center;\n              border: 1px solid #e5e5e5;\n              position: absolute;\n              width: 250px;\n              right: 0;\n              bottom: 100%;\n              margin-bottom: 10px;\n            }\n            \n            .mira-custom-widget.open .qr-dropdown {\n                max-height: 350px;\n                opacity: 1;\n                visibility: visible;\n                margin-bottom: 10px;\n                transform: translateY(0) scale(1);\n            }\n\n            /* Main Trigger Button */\n            .mira-custom-widget .widget-trigger {\n              width: 100%;\n              max-width: 250px;\n              margin-left: auto;\n              background: linear-gradient(135deg, #102542, #064783);\n              background-size: 200% 200%;\n              border-radius: 16px;\n              box-shadow: 0 4px 20px rgba(16, 37, 66, 0.15);\n              cursor: pointer;\n              transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n              overflow: hidden;\n              color: white;\n              border: 2px solid rgba(255, 255, 255, 0.1);\n            }\n            \n            .mira-custom-widget .widget-trigger:hover {\n              transform: translateY(-2px);\n              box-shadow: 0 8px 30px rgba(16, 37, 66, 0.2);\n              background: linear-gradient(135deg, #102542, #4834D4);\n              background-position: right center;\n            }\n\n            /* Content Layout */\n            .mira-custom-widget .trigger-content {\n                display: flex;\n                align-items: center;\n                padding: 16px;\n                height: 80px;\n                box-sizing: border-box;\n                position: relative;\n            }\n            \n            .mira-custom-widget .profile-image {\n                width: 48px;\n                height: 48px;\n                border-radius: 50%;\n                object-fit: cover;\n                margin-right: 12px;\n                flex-shrink: 0;\n                border: 2px solid #4834D4;\n                box-shadow: 0 2px 8px rgba(72, 52, 212, 0.2);\n            }\n\n            /* Text Content */\n            .mira-custom-widget .text-content {\n                flex: 1;\n            }\n            \n            .mira-custom-widget .title-text {\n                font-size: 14px;\n                font-weight: 600;\n                line-height: 1.2;\n                margin-bottom: 4px;\n                color: white;\n            }\n            \n            .mira-custom-widget .sub-text {\n                font-size: 12px;\n                color: rgba(255, 255, 255, 0.9);\n                line-height: 1.2;\n            }\n\n            /* Arrow Icon */\n            .mira-custom-widget .arrow-icon {\n                margin-left: 8px;\n                transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n                flex-shrink: 0;\n            }\n            \n            .mira-custom-widget.open .arrow-icon {\n                transform: rotate(180deg);\n            }\n            \n            .mira-custom-widget .arrow-icon svg {\n                width: 20px;\n                height: 20px;\n                fill: white;\n            }\n\n            /* QR Content */\n            .mira-custom-widget .qr-content {\n                padding: 20px;\n                text-align: center;\n                background: #f2f9fd;\n            }\n            \n            .mira-custom-widget .qr-code {\n                width: 100%;\n                max-width: 200px;\n                height: auto;\n                border-radius: 12px;\n                margin: 0 auto 16px;\n                display: block;\n                box-shadow: 0 2px 12px rgba(16, 37, 66, 0.1);\n                border: 4px solid white;\n            }\n            \n            .mira-custom-widget .qr-text {\n                font-size: 14px;\n                color: #102542;\n                font-weight: 500;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                gap: 8px;\n            }\n            \n            .mira-custom-widget .qr-text::before {\n                content: '';\n                display: inline-block;\n                width: 24px;\n                height: 24px;\n                background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 58 58'%3E%3Cpath fill='%2325D366' d='M0 58l4.988-14.963A28.43 28.43 0 011 28.5C1 12.76 13.76 0 29.5 0S58 12.76 58 28.5 45.24 57 29.5 57a28.44 28.44 0 01-13.26-3.273L0 58z'/%3E%3Cpath fill='%23FFF' d='M47.683 37.985c-1.316-2.487-6.169-5.331-6.169-5.331-1.098-.626-2.423-.696-3.049.42l-1.978 2.163c-1.832 1.241-3.529 1.193-5.242-.52l-7.962-7.962c-1.713-1.713-1.761-3.41-.52-5.242.272-.401 2.163-1.978 2.163-1.978 1.116-.627 1.046-1.951.42-3.049 0 0-2.844-4.853-5.331-6.169-1.058-.56-2.357-.364-3.203.482l-1.758 1.758c-5.577 5.577-2.831 11.873 2.746 17.45l5.097 5.097 5.097 5.097c5.577 5.577 11.873 8.323 17.45 2.746l1.758-1.758c.846-.846 1.042-2.145.482-3.203z'/%3E%3C/svg%3E\");\n                background-size: contain;\n                background-repeat: no-repeat;\n                background-position: center;\n                transition: transform 0.3s ease;\n            }\n\n            /* Footer */\n            .mira-custom-widget .footer-credit {\n                text-align: center;\n                padding: 12px 20px;\n                background: #f9fafa;\n                border-top: 1px solid #efefef;\n                font-size: 12px;\n                color: #7d7e7f;\n            }\n            \n            .mira-custom-widget .footer-credit a {\n                color: #4834D4;\n                text-decoration: none;\n                font-weight: 500;\n                transition: color 0.3s ease;\n            }\n            \n            .mira-custom-widget .footer-credit a:hover {\n                color: #102542;\n            }\n\n            /* Mobile Responsive */\n            @media (max-width: 480px) {\n                .mira-custom-widget {\n                    bottom: 10px;\n                    right: 10px;\n                }\n                .mira-custom-widget .widget-trigger,\n                .mira-custom-widget .qr-dropdown {\n                    width: 280px;\n                }\n                .mira-custom-widget .trigger-content {\n                    padding: 12px;\n                    height: 70px;\n                }\n                .mira-custom-widget .profile-image {\n                    width: 40px;\n                    height: 40px;\n                }\n                .mira-custom-widget .title-text {\n                    font-size: 14px;\n                }\n                .mira-custom-widget .sub-text {\n                    font-size: 11px;\n                }\n            }\n        ",document.head.appendChild(o);const r="https://api.whatsapp.com/send?phone=12272132926"+(n.whatsappMessage?`&text=${encodeURIComponent(n.whatsappMessage)}`:""),a=`\n                <div class="mira-custom-widget ${t?"embedded-mode":"floating-mode"}" id="mira-custom-widget">\n                <div class="qr-dropdown">\n                <div class="qr-content">\n                <img class="qr-code" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(r)}&color=102542&bgcolor=ffffff" alt="WhatsApp QR Code">\n                <div class="qr-text">Continue on WhatsApp</div>\n                </div>\n                <div class="footer-credit">\n                    Powered by <a href="https://tryworkabroad.com" target="_blank" rel="noreferrer">Workabroad</a>\n                </div>\n                </div>\n                <div class="widget-trigger" id="widget-trigger">\n                <div class="trigger-content">                <img class="profile-image" src="https://hebbkx1anhila5yf.public.blob.vercel-storage.com/Mira.Ai%20by%20Workabroad.JPEG-09DTsUV87ZcHUFF4Vg0fQobzN4OJoQ.jpeg" alt="Mira.Ai">\n                <div class="text-content">\n                <div class="title-text">${n.titleText}</div>\n                <div class="sub-text">${n.subText}</div>\n                </div>\n                <div class="arrow-icon">\n                <svg viewBox="0 0 24 24">\n                <path d="M7 10l5 5 5-5z"/>\n                </svg>\n                </div>\n                </div>\n                </div>\n                </div>\n        `;e.insertAdjacentHTML("beforeend",a);const s=document.getElementById("mira-custom-widget"),d=document.getElementById("widget-trigger");if(!t){const t={"bottom-right":{bottom:"20px",right:"20px"},"bottom-left":{bottom:"20px",left:"20px"},"top-right":{top:"20px",right:"20px"},"top-left":{top:"20px",left:"20px"}},e=t[n.position]||t["bottom-right"];if(Object.assign(s.style,e),n.position.startsWith("top")){const t=s.querySelector(".qr-dropdown");t.style.transformOrigin="top center",t.style.marginTop="10px",t.style.marginBottom="0",t.style.transform="translateY(-10px) scale(0.95)",s.classList.add("top-position")}else s.classList.add("bottom-position");setTimeout((()=>{s.style.opacity="0",s.style.transform="translateY(100px)",s.style.transition="opacity 0.5s ease, transform 0.5s ease",requestAnimationFrame((()=>{s.style.opacity="1",s.style.transform="translateY(0)"}))}),100)}function c(){i=!i,s.classList.toggle("open",i)}d.addEventListener("click",c),document.addEventListener("click",(t=>{!s.contains(t.target)&&i&&c()})),window.MiraCustomWidget={open:()=>{i||c()},close:()=>{i&&c()},toggle:c,remove:()=>{s.parentNode&&s.parentNode.removeChild(s)}}}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",o):o()})();